
# 概述

Vim 是运行在 Terminal 里的 Shell 程序，所以要把内容拷贝出来可以通过 Terminal，也可以通过 Vim 自己。不配置 Vim 剪切板时只能通过 Shell 来拷贝粘贴：

通过 Shell 拷贝（比如在 iTerm 里按住 Alt 选取内容）会有问题：比如会包含 Vim 左侧行号、折行变成了换行。
通过 Shell 粘贴有类似的问题：相比于 p 命令，在插入模式下 Ctrl+V 时 Vim 会把内容当作字符键入，触发 Vim 的所有处理键入的插件，比如自动补全、语法检查等。不仅会很慢，而且可能会破坏你的内容（比如粘贴一对括号，可能 Vim 会再帮你自动补全一个多余的右括号）。

所以完美的拷贝粘贴一定要通过 Vim 本身。Vim 中 p（paste）、d（delete）、y（yank）等拷贝粘贴操作使用的是 匿名寄存器 ""（unnamed register），本文就来解释怎么在 Mac/Windows/Linux 上把 Vim 的 匿名寄存器 映射到操作系统的剪切板。

1. 确保你的 vim 支持剪切板，通过 vim --version | grep clipboard 检查。
2. 确定你的剪切板寄存器是 "+（XA_SECONDARY）还是 "*（XA_PRIMARY）。
3. 同步剪切板和匿名寄存器，在 ~/.vimrc 添加配置比如 set clipboard=unnamed。

# 确保你的 Vim 支持剪切板

你的 Vim Build 没有支持 clipboard，那么无论怎样配置都不会生效。 可以用如下命令检查：

```
vim --version | grep clipboard
```

如果输出包含 `+clipboard` 或 `+xterm_clipboard` 就支持，如果这两项都是 - 则不支持。例如我的 Vim 输出为（MacOS 上的 macvim）：


# 参考

https://harttle.land/2020/09/04/vim-clipboard.html