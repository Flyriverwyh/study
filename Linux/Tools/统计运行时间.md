
```cpp
u_int64_t current_cycles()
{
    u_int32_t low, high;
    asm volatile("rdtsc" : "=a"(low), "=d"(high));
    return ((u_int64_t)low) | ((u_int64_t)high << 32);
}

u_int64_t start, end;
start = current_cycles();
......
end = current_cycles();
printf("cost %u CPU cycles\n", (unsigned)(end - start));
```