
# 检查

查看字体列表

```
# fc-list
```

提示命令无效, 在/usr/share/目录下没有fonts和fontconfig目录, 说明没有字体库.

# 安装字体库

```
# yum install -y fontconfig
```

fontconfig用来安装字体库

/usr/share目录就可以看到fonts和fontconfig目录

ttmkfdir用来搜索目录中所有的字体信息，并汇总生成fonts.scale文件

# 添加字体

为字体创建目录

```
# mkdir /usr/share/fonts/SourceCodePro
```

从 https://github.com/ryanoasis/nerd-fonts/releases 下载SourceCodePro.zip

并解压放到该目录下(不需要子目录)

# 修改目录的权限

```
# chmod -R 755 /usr/share/fonts/SourceCodePro 
```

# 处理字体信息

安装ttmkfdir来搜索目录中所有的字体信息，并汇总生成fonts.scale文件

```
# yum -y install ttmkfdir
```

执行ttmkfdir命令

```
# ttmkfdir -e /usr/share/X11/fonts/encodings/encodings.dir
```

修改字体配置文件

```
# vim /etc/fonts/fonts.conf
```

有个Font directory list, 即字体列表, 将字体位置加进去:

```
<!-- Font directory list -->

        <dir>/usr/share/fonts</dir>
        <dir>/usr/share/X11/fonts/Type1</dir> <dir>/usr/share/X11/fonts/TTF</dir> <dir>/usr/local/share/fonts</dir>
        <dir></dir>
        <dir prefix="xdg">fonts</dir>
        <!-- the following element will be removed in the future -->
        <dir>~/.fonts</dir>
```

但是其实注意, 已经有了 /usr/share/fonts 目录, 也就是说会自动扫描这个目录下的子目录, 所以其实也不用特殊处理

https://blog.csdn.net/wlwlwlwl015/article/details/51482065