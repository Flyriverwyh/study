
<!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=6 orderedList=false} -->

<!-- code_chunk_output -->

- [链表的演化](#链表的演化)
- [Linux内核中链表的定义和使用](#linux内核中链表的定义和使用)

<!-- /code_chunk_output -->

# 链表的演化

在C语言中，一个基本的双向链表定义如下:

```c
struct my_list{
    void *mydata;
    struct my_list *next;
    struct my_list *prev;
};
```

![2019-09-15-21-38-02.png](./images/2019-09-15-21-38-02.png)

这个链表画出图来的话是这样的, 它有前驱(prev)和后继(next), 这两个指针可以从两个方向来遍历链表, 从而使得遍历链表的效率得以提升.

为什么要把双链表作为一个重点来介绍呢? 

* 实际上, 对一个双链表减少一个指针域, 它自然就退化为一个单链表;

* 如果只能对链表的首尾进行插入或删除操作, 它就变成队列结构;

* 如果只能对链表的头进行插入或删除操作, 它就变成栈结构;

* 如果前驱和后继表示左右孩子的话, 它就变成一棵二叉树;

所以Linux内核将循环双链表作为一个基本的类型, Linux内核源码的很多数据结构里面, 都可以看到这个结构像整型一样来使用

# Linux内核中链表的定义和使用

Linux内核对链表的实现方式与众不同，在链表中并不包含数据，其具体的定义如下:

```c
struct list_head{
    struct list_head *next, *prev;
};
```

这个链表结构常常被嵌入到其他结构中，比如:

```c
d

```