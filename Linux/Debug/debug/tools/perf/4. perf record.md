
<!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=6 orderedList=false} -->

<!-- code_chunk_output -->

- [1. 用途](#1-用途)
- [2. 使用方法](#2-使用方法)
- [3. 参数介绍](#3-参数介绍)
  - [3.1. 常用参数](#31-常用参数)

<!-- /code_chunk_output -->

# 1. 用途

记录一段时间内系统 / 进程的性能事件

执行一个**指定应用程序**并且记录性能数据到perf.data文件, 该文件可以使用`perf report`进行解析.

# 2. 使用方法

```
./perf --help record
```

```
perf record [-e <EVENT> | --event=EVENT] [-l] [-a] <command>
perf record [-e <EVENT> | --event=EVENT] [-l] [-a] -- <command> [<options>]
```

# 3. 参数介绍

## 3.1. 常用参数

* `'-e'`: 指定性能事件, 默认是`cycles`
* `'-p'`: 指定待分析进程的 PID 
* `'-t'`: 指定待分析线程的 TID
* `'-a’`: 分析整个系统的性能(Default) 
* `'-c'`: 事件的采样周期
* `'-d'`: 界面的刷新周期(Default:2s) 
* `'-E'`: 显示的函数条数
* `'-r <priority>'`: 将 perf top 作为实时任务，优先级为 <priority>
* `'-K'`: 不显示内核符号 
* `'-U'`: 不显示用户符号
