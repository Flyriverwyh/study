> https://blog.csdn.net/wh_19910525/article/details/7554489

# 作用

将feature分支合并到master分支。

# 操作

git merge是用来合并两个分支的。

```
# 将feature分支合并到当前分支
git merge feature
```

![config](images/3.gif)


同样 `git rebase feature`，也是把 feature 分支**合并到当前分支**

# 原理

他们的 原理 如下：

假设你现在基于远程分支"origin"，创建一个叫"mywork"的分支。

```
$ git checkout -b mywork origin
```

假设远程分支"origin"已经有了2个提交，如图

![config](images/7.png)

现在我们在这个分支做一些修改，然后生成两个提交(commit).

```
$ vi file.txt
$ git commit
$ vi otherfile.txt
$ git commit
...
```

但是与此同时，有些人也在"origin"分支上做了一些修改并且做了提交了. 这就意味着"origin"和"mywork"这两个分支各自"前进"了，它们之间"分叉"了。

![config](images/8.png)

## merge

在这里，你可以用"**pull**"命令把"**origin**"分支上的**修改**拉下来并且和你的修改**合并**；结果看起来就像一个**新**的"**合并的提交**"(merge commit):

![config](images/9.png)

## rebase

但是，如果你想让"mywork"分支历史看起来**像没有经过任何合并**一样，你也许可以用 git rebase:

```
$ git checkout mywork
$ git rebase origin
```

这些命令会把你的"**mywork**"分支里的**每个提交**(commit)**取消**掉，并且把它们**临时保存**为补丁(**patch**)(这些补丁放到"`.git/rebase`"目录中), 然后把"**mywork**"分支**更新**为最新的"origin"分支，最后把**保存的这些补丁应用**到"mywork"分支上。

![config](images/10.png)

当'mywork'分支更新之后，它会指向这些**新创建的提交**(commit),而那些**老的提交**会**被丢弃**。 如果运行垃圾收集命令(pruning garbage collection), 这些被丢弃的提交就会删除. （请查看 git gc)

![config](images/11.png)

rebase 会导致线性的历史没有分支

### 解决冲突

在rebase的过程中，也许会出现**冲突**(conflict). 

在这种情况，Git会**停止rebase**并会让你去解决冲突；在解决完冲突后，用"`git add`"命令去**更新这些内容的索引**(index), 然后，你**无需执行** `git commit`,只要执行:

```
$ git rebase --continue
```

这样git会继续应用(apply)余下的补丁。

在任何时候，你可以用`--abort`参数来**终止rebase的行动**，并且"mywork" 分支会回到**rebase开始前的状态**。

```
$ git rebase --abort
```

# git rebase和git merge的区别

现在我们可以看一下用合并(merge)和用rebase所产生的历史的区别：

![config](images/12.png)

当我们使用Git log来参看commit时，其commit的顺序也有所不同。

假设C3提交于9:00AM, C5提交于10:00AM, C4提交于11:00AM，C6提交于12:00AM,

对于使用git merge来合并所看到的commit的顺序（从新到旧）是：C7 ,C6,C4,C5,C3,C2,C1

对于使用git rebase来合并所看到的commit的顺序（从新到旧）是：C7 ,C6‘,C5',C4,C3,C2,C1

因为C6'提交只是C6提交的克隆，C5'提交只是C5提交的克隆，从用户的角度看使用git rebase来合并后所看到的commit的顺序（从新到旧）是：C7 ,C6,C5,C4,C3,C2,C1

# 参考

https://blog.csdn.net/u010312474/article/details/89566787 (none)