借助一款早已淘汰的处理器Intel 8086了解处理器、内存和指令三者的关系。

### 寄存器和算术逻辑部件

如图，处理器在四周有大量的引脚，可以接受从外面来的电信号，或向外发出电信号。每个引脚都有相应的作用，在往电路板上安装的时候，不能接错。图2-2中的处理器，故意缺一个角。

处理器的引脚很多，其中一部分用于将参与计算的数字送到处理器内部。有些引脚是复用的，假如现在要进行加法运算，那么要重复使用这些引脚，来依次将被加数和加数送入。

一旦被加数通过引脚送入处理器，代表这个二进制数字的一组电信号就会出现在与引脚相连的内部线路上。这是一排**高低电平**的组合，代表着二进制数中的一个。这时必须用一个称为寄存器（register）的电路锁住。因为相同的引脚和线路马上还要用于输入加数。正是这个原因，这些内部线路称为处理器内部总线。

同样，加数也要锁进另一个寄存器中。如图2-2，寄存器RA和RB将分别锁存参与运算的被加数和加数。此后，RA和RB中的内容不再受外部数据线的影响。

寄存器是双向器件，可以在一端接受输入并加以锁存，同时，它也会在另一端产生一模一样的输出。与寄存器RA和RB相连的，是算术逻辑单元，或算术逻辑部件（Architectic Logic Unit，ALU），也就是图2-2中的桶形部分。它是专门负责运算的电路，可以计算加法、减法或乘法，也可做**逻辑运算**。

做一次加法，一旦寄存器RA和RB锁存了参与运算的两个数，算术逻辑部件就会输出相加的结果，这个结果可以临时用另一个寄存器RC锁存，稍后再通过处理器数据总线送到处理器外面，或者再次送入RA和RB。

处理器内部有一个控制器（图中没有），在指令的执行过程中，它负责给各个部件发送控制信号，使得**各个部件在某个正确时间点上执行某个动作**。同时，它还负责决定在某个时间点上哪个部件有权使用总线，以免冲突。

早期处理器，它寄存器只能保存4位、8位或16位。现在的处理器，寄存器一般都是32位、64位甚至更多。

### 内存储器

内存第一个字节的地址是0000H，其他依次类推。内存容量是65536字节，所以最后一个字节的地址是FFFFH。

为访问内存，处理器需要给出**一个地址**。访问包含读和写，为此，需要指明是**读访问还是写访问**。如果是写访问，则还要给出待写入的数据。

8位处理器包含8位的寄存器和算术逻辑部件，16位处理器拥

有16位寄存器和算术逻辑部件，64位的是64的。内存的最小组成单元是字节，但是，经过设计，它能够按字节、字、双字和四字进行访问。换句话说，仅通过单次访问就能处理8位、16位、32位或64位的二进制数。注意，**单次访问**，不是一个一个取出每个字节，然后加以组合。

![memory](images/2.png)

如上图，处理器**发出字长控制信号**，以指示本次访问的字长是8、16、32还是64。如果字长是8，而且给出的地址是0002H，那么本次访问只会影响到内存的一字节；如果字长是16，给出的地址依然是0002H，那么实际访问的将是地址0002H处的一个字，低8位在0002H中，高8位在0003H中。