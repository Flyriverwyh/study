## 1. 功能描述

磁盘引导块程序，驻留在磁盘第一个扇区中。BIOS会将这个内容加载到内存地址0x7c00处并执行。在bootsect执行期间，它将自己移动到内存绝对地址0x90000开始处并继续执行。主要作用是首先把从磁盘第2个扇区开始的4个扇区的setup模块（setup.S编译而成）加载到内存紧接着bootsect后面位置（0x90200）。然后利用BIOS中断0x13取磁盘参数表中当前启动引导盘的参数，接着在屏幕上显示“Loading system...”字符串。再把磁盘上setup模块后面的system模块加载到内存0x10000开始的地方。随后确定根文件系统的设备号，若没有指定，则根据索堡村的引导盘的每磁道扇区数判别盘的类型和种类并保存其设备号于root\_dev（508地址）中，最后长跳转到setup程序开始处（0x90200）中执行setup程序。在磁盘上，引导块、setup模块和system模块的扇区位置和大小如图。

![config](images/3.png)

图中显示Linux 0.12内核在1.44MB磁盘上所占扇区分布情况。1.44MB磁盘盘片两面各有80个磁道（柱面），每磁道18扇区，共2880个扇区。引导程序占用第1个扇区，setup模块占随后4个，system模块占大约随后260个扇区。剩余空间可存放一个基本的根文件系统。

文件名后缀是大写的S。使用这样的后缀可以让as使用GNU C编译器的与处理功能。因此可以在汇编中包括#include、#if等。

## 2. 代码注释
