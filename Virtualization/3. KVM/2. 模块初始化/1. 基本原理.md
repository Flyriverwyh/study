
<!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=6 orderedList=false} -->

<!-- code_chunk_output -->

- [1. 基本介绍](#1-基本介绍)

<!-- /code_chunk_output -->

# 1. 基本介绍



KVM的初始化步骤分为以下三步。

1）

2）

注: vmx.c中定义了一个结构体`vmx_x86_ops`, 这是函数指针集合(各种操作的集合). 初始化很多动作以及iotcl调用也都会用到这些函数. 作为参数传给`kvm_init()`, 再传给`kvm_arch_init()`, 再传递到全局变量`kvm_x86_ops`. 可以见4的说明

* 分配KVM内部操作所需要的**内存空间**。
* 调用kvm\_x86\_ops的**hardware\_setup**函数进行具体的硬件体系结构的初始化工作。
* 注册**sysfs**和**devfs**等API接口信息。
* 最后初始化**debugfs**的调试信息。

3）
