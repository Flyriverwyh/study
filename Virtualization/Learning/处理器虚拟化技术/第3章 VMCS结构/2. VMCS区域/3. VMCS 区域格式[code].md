

```cpp
struct vmcs_hdr {
        u32 revision_id:31;
        u32 shadow_vmcs:1;
};
// vmcs具体结构分配由硬件实现, 程序员只需要通过 VMWRITE 和 VMREAD 指令去访问。
struct vmcs {
        struct vmcs_hdr hdr;
        u32 abort;
        char data[0];
};
// 每个逻辑cpu一个vmcs结构
DECLARE_PER_CPU(struct vmcs *, current_vmcs);
```

