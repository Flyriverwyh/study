

processor-based 控制字段提供基于处理器层面上的控制，两个这样的控制字段如下：

* primary processor-based VM-execution control 字段
* secondary processor-based VM-execution control 字段

这两个字段是 32 位向量值，每一位可以对应一个功能控制。在进入 VMX non-root  operation 模式后，它们控制着虚拟处理器的行为。primary processor-based VM-execution  control 字段与一个 TRUE 寄存器对应，而 secondary processor-based VM-execution control 字段无须 TRUE 寄存器控制（参见 2.5.6 节）。

# primary processor-based VM-execution control 字段



# secondary processor-based VM-execution control 字段

随着处理器架构的不断发展，一些**新的 VMX 架构功能**也可能被不断地加入。这个字段就用于提供这些扩展的控制功能，或者说**新的 VMX 功能**，如表 3-7 所示。只有在  primary processor-based Vm-execution control 字段的“`activate secondary controls`”位为 1 时才有效。否则，全部控制位关闭。

![2021-01-16-22-15-05.png](./images/2021-01-16-22-15-05.png)

这个字段的**保留位**为 **default**（固定为 0 值）。软件通过 `IA32_VMX_PROCBASED_CTLS2` 寄存器来检查支持哪个控制位。当 `primary processor-based VM-execution control` 字段的 "`activate secondary control`"控制位为 0 时，这个字段无效。