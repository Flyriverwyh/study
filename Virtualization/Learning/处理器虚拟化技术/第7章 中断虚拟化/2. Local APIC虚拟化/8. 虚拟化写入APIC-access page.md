
当 guest 尝试线性写入 APIC- access page 页面时，产生下面的结果之（1) 产生 APIC- access VM-exit。

 (2) 值写人到 virtual- APIC page 页面相应偏移量的位置上，并且执行称为“APIC-  write emulation”的后续处理。最终结果可能为：

产生 APIC- write VM-exit

进行 TPR 虚拟化、EOI 虚拟化，或者 Self-IP 虚拟化操作。

如上所述，在写入 virtual- APIC page 页面后会进行相应的后续处理，而读访问 APIC

 ccess page 则直接返回 virtual- APIC page 页面内的数据

1. 产生 APIC- access VM-exit

属于下面情况之一时，尝试写 APIC- access page 页面内任何 offset 值都产生 APIC-

 access Vm-exit

当“use TPR shadow”位为 0 时（表示不存在 virtual- APIC page 页面）。

访问的数据 size 超过 32 位。例如，尝试写入 64 位数据

访问 APIC- access page 页面的动作发生在虚拟化写 APIC- access page 页面操作的其中一个流程。例如，在虚拟化 TPR 操作时（即写 APIC- access page 页面 80H 位置），最后的步骤是进行 virtual- Interrupt 的评估及 delivery 操作（参见 72.13 节）。当评估通过后虚拟中断将被 deliver 执行，而在这个在 delivery 期间访问了 APIC- access page 页面。

尝试对 APIC- access page 页面进行跨 local APIC 寄存器边界访问（访问不是完整地包含在 local APIC 寄存器内）。也就是访问地址的 bits3:2 必须为 0 值。

以写入 TPR 寄存器（偏移量为 80H）为例，有下面的情况：

写入 WORD (16 位）数据时，使用偏移量为 83H 则属于跨寄存器边界，而偏移量为 80H 到 82H 之间不属于跨寄存器边界。

写入人 DWORD (32 位）数据时，使用偏移量为 81H 到 83H 之间都属于跨寄存器边界，只有偏移量为 80H 才不属于跨寄存器边界