

VMM可以监控和接管VM内发生的**异常**(包括**硬件异常**与**软件异常**)、**外都中断**、**SMI**及**NMI** (参见5.3节)。VMM通过下面的设置进行拦截。

●异常，通过将异常向量号在exception bitmap字段相应位置1。

●外部中断，通过将pin-based VM-execution control字段etealinterupt xiting^位置.1。

●SMI,通过“SMM双重监控处理机制”切人到STM (SMM-transfer monitor) 端进行处理。

●NMI,通过将pin-based VM-execution control字段“NMI exiting" 位置1。

VMM拦截这些事件后，可以直接反射给guest执行，或者根据情况做相应地虚拟化处理后反射虚拟化结果给guest. 另外，当在VM内发生INIT、SMI及SIPI 事件而不被阻塞时，将直接产生VM-exit (参见5.3 节和4.17.2节)。

7.1异常处理

业oneset在运行过程中可能会遇到某些错误引发异常，面由于该异常向量号在