

在 VMCS 区域的三个 VM-execution control 字段需要检查 VMX 能力寄存器来确认 default0 与 default1 位. 如下所示:

* Pin-based VM-execution control 字段

* primary processor-based Vm-execution control 字段 
* secondary processor-based Vm-execution control 字段

在表 2-2 中列举了这些控制字段所支持的能力由其对应的寄存器提供。当 A32 VMX BASICI55] 为 1 时使用 TRUE 系列寄存器。此时，pin- based VM- execution  control 字段的值由 IA32VMXTRUE_ PINBASED CTLS 寄存器来决定设置，primary  processor- based VM- execution control 字段的值由 1A32 VMX TRUE PROCBASED CTLS 寄存器来决定设置，但 secondary processor- based Vm-execution control 字段没有对应的 TRUE 寄存器，它只由 1A32 VMX PROCBASED CTLS2 寄存器来决定设置。2.5.6.1Pin- based VM- execution contro이字段

当 1A32 VMX BASIC 的 bit55 为 0 时，1A32 VMX PINBASED CTLS 寄存器决定 Pin- based VM- execution control 字段的设置。

当 1A32 VMX BASIC 的 bit55 为 1 时，忽略 IA32 VMX PINBASED CTLS 寄存器，Pin- based VM- execution control 字段由 A32 VMX TRUE PINBASED CTLS 寄存器来决定设置。

这两个 MSR 的用法是一样的，分为低 32 位与高 32 位。具体用法如下所示

 (1) bits31:0 (allowed 0- setting）：某位为 0 时，Pin- based VM- execution control 字段相应的位允许设为 0 值。

# 1. Pin-based VM-execution control 字段



# 2. primary processor-based VM-execution control 字段



# 3. secondary processor-based VM-execution control 字段

